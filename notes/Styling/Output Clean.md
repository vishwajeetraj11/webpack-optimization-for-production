Webpack keeps adding new files in the dist folder instead of cleaning earlier generated files.

To enforce this.

```js
output: {
	path: path.resolve(__dirname, '../dist'),
	clean: true
},
```

If you specify dry to Webpack, it will print all the files that should be removed instead of actually removing them.

```js
clean: {
	dry: true
}
```

```js
Output

**LOG from webpack.CleanPlugin**
<i> **main.2fb43e41322c.js will be removed**
```



This will still not remove any files just log which ones will be removed because of `dry: true`, if we were to remove dry option they the files to be deleted will be deleted.

```js
clean: {
	dry: true,
	keep: /\.css/
}
```

clean:true has a bug that it keeps generating (when we change something in our js/css files) json files related to webpack, so lets try a new plugin.

![[Pasted image 20230822013244.png]]

### Clean plugin for Webpack

plugin: clean-webpack-plugin

```js
  plugins: [
        new HtmlWebpackPlugin({
            filename: 'index.html',
            template: 'src/template.html'
        }),
        new CleanWebpackPlugin()
    ]
```

Its also possible to clean multiple folders with this plugin.

We just need to provide a couple of options to it.
Let's imagine that you have one more folder generated by some other to where you store some additional CSS files (build).

```js
    new CleanWebpackPlugin({
            cleanOnceBeforeBuildPatterns: [
                '**/*',
                path.join(process.cwd(), 'build/**/*') 
                // assuming build was outside dist.
            ]
        })
```

This option removes old files before Webpack generates new files.